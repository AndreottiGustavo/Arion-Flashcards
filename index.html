<!DOCTYPE html>
<html lang="pt-br">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=resizer-visual">
    <title>√Årion Flashcards</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0a3d3a">
    <link rel="apple-touch-icon" href="LOGO √ÅRION.png">
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js')
          .then(() => console.log("√Årion PWA Ativo!"))
          .catch(err => console.log("Erro no PWA:", err));
      }
    </script>


</head>
<body>


    
    <!-- =========================================================
         NOVO HEADER FIXO COM LOGO + MENU SANDU√çCHE
         ========================================================= -->
         <header class="top-header">
            <div class="header-brand">
                <img src="LOGO √ÅRION.png" alt="Logo √Årion" class="app-logo-img">
                <span class="app-brand-name">√ÅRION</span>
            </div>
        
            <div class="menu-container">
                <button id="menu-toggle" class="hamburger-btn">‚ò∞</button>
                
                <nav class="nav-menu-dropdown" id="main-nav">
                    <button class="nav-btn" id="nav-decks" onclick="mudarTela('deck-screen'); atualizarNav('nav-decks')">Baralhos</button>
                    <button class="nav-btn" id="nav-browse" onclick="abrirPainel(); atualizarNav('nav-browse')">Painel (Cards)</button>
                    <button class="nav-btn" id="nav-store" onclick="mudarTela('store-screen'); atualizarNav('nav-store')" style="color:var(--premium-gold); border-color:var(--premium-gold)">‚ú® Loja</button>
                </nav>
            </div>
        </header>
    

 
    <div id="splash-screen">
        <div class="logo-container">
            <svg viewBox="0 0 400 150">
                <text x="200" y="80" text-anchor="middle" font-family="serif" font-weight="bold" font-size="75" letter-spacing="8" fill="#f4e9c1">√ÅRION</text>
                <text x="200" y="120" text-anchor="middle" font-family="sans-serif" font-size="20" letter-spacing="4" opacity="0.8" fill="#f4e9c1">FLASHCARDS</text>
            </svg>
        </div>
    </div>


    <div id="modal-overlay">
        <div class="modal-box" id="custom-modal">
            <h3 id="modal-title">T√≠tulo</h3>
            <div id="modal-content"></div>
            <button class="btn-gold" id="modal-confirm-btn" style="margin-top:10px">CONFIRMAR</button>
            <button onclick="fecharModal()" style="background:none; border:none; margin-top:15px; color:gray; cursor:pointer; font-size:0.9rem">Cancelar</button>
        </div>
    </div>

    <div id="deck-screen" class="screen">
        <header><h1>Meus Baralhos</h1></header>
        <div class="deck-list" id="deck-list"></div>
        <div style="text-align:center; padding:20px;"><button class="btn-gold" style="width:auto; padding:15px 40px; border-radius:50px;" onclick="abrirModalCriar()">+ Novo Baralho</button></div>
    </div>

    <div id="store-screen" class="screen">
        <header><h1>Loja √Årion</h1></header>
        <div class="store-card">
            <h2 style="margin:0">Biologia Completa</h2>
            <p style="color:#666; font-size:0.9rem">Cronograma completo do Ensino M√©dio separado por m√≥dulos.</p>
            <div class="price-tag">R$ 19,90 / m√™s</div>
            <button class="btn-gold" onclick="simularAssinatura()">ASSINAR AGORA</button>
        </div>
    </div>

    <div id="browse-screen" class="screen">
        <header><h1>Painel de Cards</h1></header>
        <div class="tabs-container">
            <button class="tab-btn active-tab" id="tab-all" onclick="alternarAbasPainel('all')">Todos</button>
            <button class="tab-btn" id="tab-premium" onclick="alternarAbasPainel('premium')">Gerenciar Premium</button>
        </div>
        
        <div id="browse-all-section">
            <div class="search-container">
                <input type="text" id="browse-search" class="search-input" placeholder="Pesquisar nos flashcards..." oninput="filtrarPainel()">
            </div>
            <div style="overflow-y: auto; flex-grow: 1;">
                <table class="browse-table">
                    <thead>
                        <tr><th>Frente</th><th>Verso</th><th>Baralho</th></tr>
                    </thead>
                    <tbody id="browse-list"></tbody>
                </table>
            </div>
        </div>

        <div id="browse-premium-section" style="display:none; overflow-y: auto; flex-grow: 1;">
            <div id="premium-manager-root" class="premium-manager-container"></div>
        </div>
    </div>

    <div id="details-screen" class="screen">
        <header><h1 id="details-deck-name"></h1><button onclick="mudarTela('deck-screen')" style="background:none; border:none; color:white; font-size:1.5rem;">‚úï</button></header>
        <div id="stats-area"></div>
        <div id="details-actions"></div>
    </div>



    

    
    <div id="study-screen" class="screen">
        <header>
            <h1 id="study-title">Estudo</h1>
            <button onclick="abrirDetalhes(dIdx)" style="background:none; border:1px solid white; color:white; border-radius:8px; padding:5px 15px;">Sair</button>
        </header>
    
        <div id="study-container">
            <div class="card-box" onclick="virarCard()">
                <div id="display-front" style="font-size:1.4rem"></div>
                <div class="divider" id="card-divider"></div>
                <div id="display-back" style="font-size:1.4rem; font-weight:bold; color:var(--primary-green); display:none"></div>
            </div>
            
            <div class="anki-footer" id="anki-btns">
                <div class="btn-group"><span class="time-label"></span><button class="btn-anki" style="background:#f0f0f0; color:#666" onclick="abrirModalEditarCard()">‚úé Editar</button></div>
                <div class="btn-group"><span class="time-label" id="t0"></span><button class="btn-anki" style="color:#d9534f" onclick="responder(0)">De novo</button></div>
                <div class="btn-group"><span class="time-label" id="t1"></span><button class="btn-anki" style="color:#f0ad4e" onclick="responder(1)">Dif√≠cil</button></div>
                <div class="btn-group"><span class="time-label" id="t2"></span><button class="btn-anki" style="color:#5cb85c" onclick="responder(2)">Bom</button></div>
                <div class="btn-group"><span class="time-label" id="t3"></span><button class="btn-anki" style="color:#5bc0de" onclick="responder(3)">F√°cil</button></div>
            </div>
        </div>
    
        <div id="finish-area" style="display: none; flex-direction: column; align-items: center; width: 100%; animation: fadeInScale 0.5s ease-out;">
            <div id="finish-screen" class="congratulations-container" style="width: 90%; margin: 20px auto;">
                <span class="trophy-icon">üèÜ</span>
                <div class="congrats-title">Parab√©ns! Voc√™ finalizou os flashcards previstos para hoje.</div>
                <div id="streak-display" class="streak-badge">Sua streak continua: 0 dias</div>
            </div>
            
            <button class="btn-gold" style="margin-top: 20px; width: 90%;" onclick="mudarTela('deck-screen')">Voltar aos Baralhos</button>
        </div>
    </div>

<div id="create-screen" class="screen">
    <header><h1>Criar flashcards</h1></header>
    
    <div class="toolbar" style="margin-bottom: 15px;">
        <button class="tool-btn" onclick="formatar('bold')">B</button>
        <button class="tool-btn" onclick="formatar('italic')" style="font-style:italic">I</button>
        <button class="tool-btn" onclick="formatar('underline')" style="text-decoration:underline">U</button>
        <button class="tool-btn" id="btn-sup" onclick="formatar('superscript')">x¬≤</button>
        <button class="tool-btn" id="btn-sub" onclick="formatar('subscript')">x‚ÇÇ</button>
        
        <div class="color-split-btn">
            <button class="color-main-btn" onclick="aplicarCorPadrao()">
                <span>A</span><div class="color-indicator" id="current-color"></div>
            </button>
            <button class="color-select-btn" onclick="document.getElementById('colorPicker').click()">‚ñº</button>
        </div>
        <input type="color" id="colorPicker" style="display:none" onchange="atualizarCorPadrao(this.value)">
    </div>

    <div class="card-box" style="height: auto; min-height: 350px; background: white; border-radius: 15px; padding: 20px;">
        <div id="front" class="main-input" contenteditable="true" data-placeholder="Pergunta (Frente)"></div>
        <div class="divider" style="display:block; height: 1px; background: #eee; margin: 20px 0;"></div>
        <div id="back" class="main-input" contenteditable="true" data-placeholder="Resposta (Verso)"></div>
    </div>

    <button class="btn-gold" onclick="salvarCard()">SALVAR E CONTINUAR</button>
    <button onclick="abrirDetalhes(dIdx)" style="background:none; border:1px solid white; color:white; margin-top:10px; padding:15px; border-radius:15px; cursor:pointer; width:100%">FINALIZAR / VOLTAR</button>
</div>

    
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
</body>
</html>











